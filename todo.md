# ジョブアロケーション最適化デモ - 実装TODOリスト

## 1. 環境構築とセットアップ
- [x] Poetry依存関係の定義（pyproject.toml更新）
  - [x] pandas
  - [x] streamlit
  - [x] pulp（線形計画法）
  - [x] ortools（CP-SAT）
  - [x] deap（遺伝的アルゴリズム）
  - [x] matplotlib/plotly（可視化）
  - [x] openpyxl（Excel読み込み）
- [x] .gitignore の設定
- [x] 開発環境セットアップドキュメント作成

## 2. データモデル定義
- [x] オペレーターデータモデル定義
  - [x] オペレーターID
  - [x] 名前
  - [x] スキルセット
  - [x] 勤務可能時間帯
- [x] タスクデータモデル定義
  - [x] タスクID
  - [x] タスク名/種類
  - [x] 必要工数（整数時間）
  - [x] 納期/優先度（オプション）
- [x] スケジュール結果データモデル定義

## 3. データ読み込み機能（src/data/）
- [ ] operator_loader.py 実装
  - [ ] CSV読み込み機能
  - [ ] Excel読み込み機能
  - [ ] JSON読み込み機能
  - [ ] データ形式の自動判定
- [ ] task_loader.py 実装
  - [ ] CSV読み込み機能
  - [ ] Excel読み込み機能
  - [ ] JSON読み込み機能
  - [ ] データ形式の自動判定
- [ ] validators.py 実装
  - [ ] オペレーターデータ検証
  - [ ] タスクデータ検証
  - [ ] スキル名の統一性チェック
  - [ ] エラーメッセージの定義

## 4. 最適化アルゴリズム実装（src/algorithms/）
- [ ] base.py - 基底クラス実装
  - [ ] 共通インターフェース定義
  - [ ] 結果フォーマット統一
- [ ] linear_programming.py - 線形計画法
  - [ ] PuLPモデル構築
  - [ ] 制約条件の定義
  - [ ] 目的関数の定義
- [ ] cp_sat.py - CP-SAT実装
  - [ ] OR-Toolsモデル構築
  - [ ] 制約条件の定義
  - [ ] 最適化実行
- [ ] genetic_algorithm.py - 遺伝的アルゴリズム
  - [ ] DEAP設定
  - [ ] 個体表現の定義
  - [ ] 適応度関数
  - [ ] 交叉・突然変異操作
- [ ] heuristic.py - ヒューリスティック法
  - [ ] 貪欲法実装
  - [ ] 改善アルゴリズム
- [ ] deferred_acceptance.py - DA実装
  - [ ] Gale-Shapleyアルゴリズム
  - [ ] 選好リストの生成

## 5. スケジューリング機能（src/utils/）
- [ ] scheduler.py 実装
  - [ ] アルゴリズム実行管理
  - [ ] 結果の統一フォーマット変換
  - [ ] 実行時間計測
- [ ] metrics.py 実装
  - [ ] 割り当てタスク総数計算
  - [ ] 稼働率計算
  - [ ] 空き時間計算
  - [ ] 比較指標の集計
- [ ] export.py 実装
  - [ ] CSV出力
  - [ ] Excel出力
  - [ ] JSON出力

## 6. UI実装（src/ui/）
- [ ] app.py - メインアプリケーション
  - [ ] ページレイアウト設定
  - [ ] サイドバー実装
  - [ ] メインビュー実装
  - [ ] セッション状態管理
- [ ] components.py - UIコンポーネント
  - [ ] ファイルアップローダー
  - [ ] アルゴリズム選択UI
  - [ ] 実行ボタン
  - [ ] プログレスバー
  - [ ] 結果ダウンロードボタン
- [ ] visualization.py - 可視化機能
  - [ ] スケジュールタイムライン図
    - [ ] 縦軸：オペレーター
    - [ ] 横軸：時間帯（9:00-17:00）
    - [ ] タスクブロック表示
  - [ ] 比較グラフ
    - [ ] 棒グラフ（タスク数・稼働率）
    - [ ] レーダーチャート
  - [ ] データプレビューテーブル

## 7. テスト実装（tests/）
- [ ] test_data_loaders.py
  - [ ] 各種ファイル形式の読み込みテスト
  - [ ] バリデーションテスト
  - [ ] エラーケーステスト
- [ ] test_algorithms.py
  - [ ] 各アルゴリズムの動作テスト
  - [ ] 結果の妥当性検証
  - [ ] パフォーマンステスト
- [ ] test_scheduler.py
  - [ ] スケジューリング統合テスト
  - [ ] メトリクス計算テスト

## 8. サンプルデータ作成（data/）
- [ ] sample_operators.csv
  - [ ] 10名程度のオペレーター情報
  - [ ] 多様なスキルセット
- [ ] sample_tasks.csv
  - [ ] 20-30個のタスク
  - [ ] 様々な工数（1-8時間）
- [ ] 使用方法ドキュメント

## 9. メインエントリーポイント
- [ ] main.py 実装
  - [ ] Streamlitアプリ起動
  - [ ] コマンドライン引数処理
  - [ ] 設定ファイル読み込み

## 10. ドキュメント作成
- [ ] README.md 更新
  - [ ] プロジェクト概要
  - [ ] インストール方法
  - [ ] 使用方法
  - [ ] アーキテクチャ説明
- [ ] CLAUDE.md 更新
  - [ ] 開発コマンド追加
  - [ ] テスト実行方法
  - [ ] アーキテクチャ詳細

## 11. CI/CD設定（オプション）
- [ ] Dockerfile作成
- [ ] docker-compose.yml作成
- [ ] GitHub Actions設定
  - [ ] 自動テスト
  - [ ] リンター実行
  - [ ] デプロイ設定

## 実装優先順位
1. 環境構築とデータモデル定義
2. データ読み込み機能
3. 基本的なアルゴリズム実装（線形計画法から）
4. UI基本機能
5. 可視化機能
6. 他のアルゴリズム実装
7. テスト・ドキュメント整備